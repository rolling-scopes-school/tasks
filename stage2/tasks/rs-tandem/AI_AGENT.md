# RS Tandem: Guide to LLM Integration

> **–ó–∞—á–µ–º —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç:** –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –¥–ª—è –∫–æ–º–∞–Ω–¥, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å AI-—Ñ–∏—á–∏ –≤ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç (AI-–∏–Ω—Ç–µ—Ä–≤—å—é–µ—Ä, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á, –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞, —á–∞—Ç-–±–æ—Ç).

---

## 1. –í—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (Models & APIs)

–î–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–∫—É–ø–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ OpenAI. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Å —Ñ–æ—Ä–º–∞—Ç–æ–º OpenAI API (–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `baseURL` –∏ `apiKey`).

| –ü—Ä–æ–≤–∞–π–¥–µ—Ä | URL | –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ |
|-----------|-----|------------|
| **Groq** | [console.groq.com](https://console.groq.com) | üöÄ **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º.** –ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –±—ã—Å—Ç—Ä—ã–π inference. –ï—Å—Ç—å —â–µ–¥—Ä—ã–π Free Tier. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Llama 3, Mixtral, Gemma. |
| **Google AI** | [aistudio.google.com](https://aistudio.google.com) | **Gemini API.** –ï—Å—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ (—Å –ª–∏–º–∏—Ç–∞–º–∏). –û—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–µ–π. |
| **NVIDIA Build** | [build.nvidia.com](https://build.nvidia.com) | –î–∞—é—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã –Ω–∞ —Ç–µ—Å—Ç –º–æ—â–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π. |
| **Hugging Face** | [huggingface.co/chat](https://huggingface.co/chat) | –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –æ—Ç–∫—Ä—ã—Ç—ã–º –º–æ–¥–µ–ª—è–º (—á–µ—Ä–µ–∑ Inference API). |
| **Ollama** | [ollama.com](https://ollama.com) | üè† **–õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫.** –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏ –∫–ª—é—á–µ–π. –¢—Ä–µ–±—É–µ—Ç –º–æ—â–Ω—ã–π –Ω–æ—É—Ç–±—É–∫. |
| **OpenAI** | [platform.openai.com](https://platform.openai.com) | –ö–ª–∞—Å—Å–∏–∫–∞ (GPT-3.5/4o). –ü–ª–∞—Ç–Ω–æ, –Ω—É–∂–Ω–∞ –ø—Ä–∏–≤—è–∑–∫–∞ –∫–∞—Ä—Ç—ã. |

---

## 2. –°–ø–æ—Å–æ–±—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### A. Raw Fetch + ReadableStream (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è Technical Depth)
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å API "—Ä—É–∫–∞–º–∏" –±–µ–∑ —Ç—è–∂–µ–ª—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.
* **–ü–ª—é—Å—ã:** –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å, –º–∞–ª–µ–Ω—å–∫–∏–π —Ä–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞, +–±–∞–ª–ª—ã –≤ *Technical Depth* (—Å–º. [PERSONAL_SCORE.md](./PERSONAL_SCORE.md)).
* **–ß—Ç–æ –∏–∑—É—á–∏—Ç—å:** `fetch`, `ReadableStream`, `TextDecoder`.

### B. AI SDKs (Vercel AI SDK, LangChain)
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.
* **–ü–ª—é—Å—ã:** –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç, –≥–æ—Ç–æ–≤—ã–µ —Ö—É–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `useChat` –≤ Vercel AI SDK).
* **–ú–∏–Ω—É—Å—ã:** "–ú–∞–≥–∏—è" –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º, —Å–ª–æ–∂–Ω–µ–µ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –µ—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—à—å –±–∞–∑—É.

---

## 3. Mock Mode (–ö–∞–∫ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–µ–∑ –±–æ–ª–∏)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ UI –≤—ã –±—É–¥–µ—Ç–µ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ—Ç–Ω–∏ —Ä–∞–∑. –ï—Å–ª–∏ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –¥–µ—Ä–≥–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π API:
1. –ó–∞–∫–æ–Ω—á–∞—Ç—Å—è –ª–∏–º–∏—Ç—ã.
2. –ë—É–¥–µ—Ç–µ –∂–¥–∞—Ç—å –æ—Ç–≤–µ—Ç–∞ –ø–æ 3-5 —Å–µ–∫—É–Ω–¥.

**–†–µ—à–µ–Ω–∏–µ:** –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å `IS_MOCK` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ —Ñ–µ–π–∫–æ–≤—ã–π —Å—Ç—Ä–∏–º.

```typescript
// api/mock-ai.ts
export async function* mockStreamResponse(message: string) {
  const mockAnswer = "–≠—Ç–æ **—Ç–µ—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç** –æ—Ç AI.\n\n–í–æ—Ç –∫–æ–¥:\n```js\nconsole.log('Hello');\n```";
  // –≠–º—É–ª–∏—Ä—É–µ–º, —á—Ç–æ —Å–µ—Ç—å –æ—Ç–¥–∞–µ—Ç –æ—Ç–≤–µ—Ç –ø–æ –∫—É—Å–æ—á–∫–∞–º (—á–∞–Ω–∫–∞–º–∏)
  const tokens = mockAnswer.split(/(.{1,5})/g); 
  
  for (const token of tokens) {
    await new Promise(r => setTimeout(r, 30)); // –≠–º—É–ª—è—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–µ—Ç–∏
    yield token;
  }
}

```

---

## 4. –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### Streaming (–≠—Ñ—Ñ–µ–∫—Ç –ø–µ—á–∞—Ç–Ω–æ–π –º–∞—à–∏–Ω–∫–∏)

LLM –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –æ—Ç–≤–µ—Ç —Ç–æ–∫–µ–Ω –∑–∞ —Ç–æ–∫–µ–Ω–æ–º. –ù–µ –∑–∞—Å—Ç–∞–≤–ª—è–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∂–¥–∞—Ç—å –≤–µ—Å—å –æ—Ç–≤–µ—Ç 10 —Å–µ–∫—É–Ω–¥. –ü–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ —Ç–µ–∫—Å—Ç –ø–æ –º–µ—Ä–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è.

* *Frontend:* –ù—É–∂–Ω–æ —É–º–µ—Ç—å –ø–∞—Ä—Å–∏—Ç—å Markdown, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏—Ö–æ–¥–∏—Ç –∫—É—Å–∫–∞–º–∏ (–∏–Ω–æ–≥–¥–∞ —Ä–∞–∑—Ä—ã–≤–∞—è —Ç–µ–≥–∏).

### Context Management (–ü–∞–º—è—Ç—å)

LLM –Ω–µ "–ø–æ–º–Ω–∏—Ç" –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–∞–º–∞ –ø–æ —Å–µ–±–µ. –í—ã –¥–æ–ª–∂–Ω—ã –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –µ–π –∏—Å—Ç–æ—Ä–∏—é –ø–µ—Ä–µ–ø–∏—Å–∫–∏ –∫–∞–∂–¥—ã–π —Ä–∞–∑.

* *–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:* –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –æ–∫–Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã (–∏ —Å—Ç–æ—è—Ç –¥–µ–Ω–µ–≥/—Ç–æ–∫–µ–Ω–æ–≤). –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –≤—Å—é "–í–æ–π–Ω—É –∏ –º–∏—Ä". –û–±—Ä–µ–∑–∞–π—Ç–µ —Å—Ç–∞—Ä—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–ª–∏ —Å–∞–º–º–∞—Ä–∏–∑–∏—Ä—É–π—Ç–µ –∏—Ö.

### System Prompts (Personas)

–ü–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –∑–∞–¥–∞–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω—ã–º –ø—Ä–æ–º–ø—Ç–æ–º (–ø–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –º–∞—Å—Å–∏–≤–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Å —Ä–æ–ª—å—é `system`).

**–ü—Ä–∏–º–µ—Ä "–°—Ç—Ä–æ–≥–∏–π –º–µ–Ω—Ç–æ—Ä":**

```json
{
  "role": "system",
  "content": "–¢—ã ‚Äî —Å—Ç—Ä–æ–≥–∏–π —Å–µ–Ω—å–æ—Ä-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫. –ù–µ –¥–∞–≤–∞–π –ø—Ä—è–º—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤, –∑–∞–¥–∞–≤–∞–π –Ω–∞–≤–æ–¥—è—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã. –ï—Å–ª–∏ –∫–æ–¥ –ø–ª–æ—Ö–æ–π ‚Äî –∫—Ä–∏—Ç–∏–∫—É–π –∂–µ—Å—Ç–∫–æ, –Ω–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ."
}

```

### Tool Calling (Advanced)

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –º–æ–≥—É—Ç –Ω–µ –ø—Ä–æ—Å—Ç–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç, –Ω–æ –∏ "—Ä–µ—à–∞—Ç—å", —á—Ç–æ –Ω—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é.

* *–°—Ü–µ–Ω–∞—Ä–∏–π:* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç "–ü—Ä–æ–≤–µ—Ä—å –º–æ–π –∫–æ–¥". LLM –ø–æ–Ω–∏–º–∞–µ—Ç —ç—Ç–æ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å –ø—Ä–æ—Å—å–±–æ–π –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `run_linter(code)`. –í–∞—à –±—ç–∫–µ–Ω–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–¥–µ–ª–∏.

---

## 5. –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ (Checklist)

| –û—à–∏–±–∫–∞ | –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è | –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å |
| --- | --- | --- |
| **API –∫–ª—é—á –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ** | –£ –≤–∞—Å —É–∫—Ä–∞–¥—É—Ç –∫–ª—é—á –∏ —Å–ø–∏—à—É—Ç –¥–µ–Ω—å–≥–∏/–ª–∏–º–∏—Ç—ã | –ó–∞–ø—Ä–æ—Å—ã –∫ LLM —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å–≤–æ–π Backend (–∏–ª–∏ Proxy). `.env` –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –Ω–µ —Å–ø–∞—Å–∞–µ—Ç! |
| **–ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫** | –ë–µ–ª—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ API | –û–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ `try/catch`, –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ—Å—Ç—ã/—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è. |
| **–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Markdown** | UI "–º–∏–≥–∞–µ—Ç" –ø—Ä–∏ —Å—Ç—Ä–∏–º–∏–Ω–≥–µ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ –∏–ª–∏ `memo` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. |
| **–ù–µ—Ç AbortController** | –ó–∞–ø—Ä–æ—Å—ã –≤–∏—Å—è—Ç, –µ—Å–ª–∏ —É–π—Ç–∏ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã | –û—Ç–º–µ–Ω—è—Ç—å —Ñ–µ—Ç—á –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. |
| **–û—Ç–ø—Ä–∞–≤–∫–∞ –≤—Å–µ–π –∏—Å—Ç–æ—Ä–∏–∏** | –û—à–∏–±–∫–∞ `Context Length Exceeded` | –û–±—Ä–µ–∑–∞—Ç—å –º–∞—Å—Å–∏–≤ —Å–æ–æ–±—â–µ–Ω–∏–π (–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –∏–ª–∏ —É–¥–∞–ª—è—Ç—å —Å—Ç–∞—Ä—ã–µ). |

---

## –†–µ—Å—É—Ä—Å—ã

* [MDN: ReadableStream API](https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream) ‚Äî –±–∞–∑–∞ –¥–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞.
* [OpenAI API Reference](https://platform.openai.com/docs/api-reference) ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–µ-—Ñ–∞–∫—Ç–æ –¥–ª—è API.
* [Vercel AI SDK](https://sdk.vercel.ai/docs) ‚Äî –µ—Å–ª–∏ —Ä–µ—à–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ.
* [Prompt Engineering Guide](https://www.promptingguide.ai/) ‚Äî –∫–∞–∫ –ø–∏—Å–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã.