# Code Standards (100 баллов)

> **Score в RS APP:** Code Standards  
> **Тип оценки:** на проект (одинаковая для всей команды)  
> **Когда:** до защиты, автоматически или cross-check  
> **Кто оценивает:** cross-check reviewer или автоматическая проверка

---

## Философия

Объективно проверяемые критерии. Можно проверить за 5 минут без субъективной оценки.

---

## Критерии

### 1. TypeScript Strict (25 баллов)

| Баллы | Требование |
|-------|------------|
| **0** | TypeScript не используется или `strict: false` |
| **15** | `strict: true`, но есть `@ts-ignore` или `as any` |
| **25** | `strict: true`, нет обходов типизации |

**Как проверить:**
```bash
# Проверить tsconfig.json
cat tsconfig.json | grep "strict"

# Найти обходы типизации
grep -r "@ts-ignore\|as any" src/
```

---

### 2. No Any (25 баллов)

| Баллы | Требование |
|-------|------------|
| **0** | Более 10 использований `any` |
| **15** | 1-10 использований `any` (с обоснованием) |
| **25** | Нет `any` в коде |

**Как проверить:**
```bash
grep -r ": any\|<any>\|as any" src/ --include="*.ts" --include="*.tsx" | wc -l
```

**Исключения:** `any` в типах из внешних библиотек (если нет типов) — не штрафуется при наличии комментария.

---

### 3. Linting Setup (25 баллов)

| Баллы | Требование |
|-------|------------|
| **0** | Нет ESLint и Prettier |
| **15** | Есть ESLint ИЛИ Prettier, но не оба |
| **25** | ESLint + Prettier настроены и работают |

**Как проверить:**
- [ ] Файл `.eslintrc.*` или `eslint.config.*` существует
- [ ] Файл `.prettierrc` или `prettier.config.*` существует
- [ ] `npm run lint` выполняется без ошибок
- [ ] Код отформатирован (нет diff после `npm run format`)

---

### 4. Error Handling (25 баллов)

| Баллы | Требование |
|-------|------------|
| **0** | Ошибки не обрабатываются (белый экран при проблемах) |
| **15** | Базовая обработка: try/catch есть, но UX плохой |
| **25** | Полноценная обработка: try/catch + user-friendly сообщения |

**Что проверять:**
- [ ] API-запросы обернуты в try/catch
- [ ] Есть UI для отображения ошибок (toast, alert, error page)
- [ ] Приложение не падает при отключении сети
- [ ] Есть Error Boundary (для React) или аналог

---

## Red Flags

| Red Flag | Влияние |
|----------|---------|
| API Keys в коде | Error Handling = 0 (-25 pts) |
| Обильное использование `any` | No Any = 0 (-25 pts) |
| Нет обработки ошибок | Error Handling = 0 (-25 pts) |

---

## Scoring Sheet

```
┌─────────────────────────────────────────────────────────┐
│ Проект: _______________    Reviewer: _______________     │
├─────────────────────────────────────────────────────────┤
│                                                         │
│ 1. TypeScript Strict:       _____ / 25                  │
│ 2. No Any:                  _____ / 25                  │
│ 3. Linting Setup:           _____ / 25                  │
│ 4. Error Handling:          _____ / 25                  │
│                             ─────────                   │
│ ИТОГО Code Standards:       _____ / 100                 │
│                                                         │
│ Red Flags:                                              │
│ ________________________________________________        │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## Процесс оценки

### Когда

Code Standards проверяется **до презентаций** — это первая фаза оценки.

### Кто проверяет

**Вариант A: Cross-Check**
- Студент из другой команды проверяет по чек-листу выше
- Клонирует репозиторий, запускает команды проверки
- Заполняет Scoring Sheet

**Вариант B: Автоматическая проверка**
- CI pipeline проверяет `tsconfig.json`, `eslint`, `prettier`
- Скрипт считает количество `any` в коде
- Error Handling проверяется вручную (единственный субъективный пункт)

### Как

1. Reviewer клонирует репозиторий
2. Запускает `npm install && npm run lint`
3. Проверяет `tsconfig.json` на `strict: true`
4. Ищет `any`, `@ts-ignore`, `as any` в коде
5. Запускает приложение, проверяет обработку ошибок (отключить сеть, ввести невалидные данные)
6. Заполняет Scoring Sheet и выставляет оценку в RS APP

**Время на проверку:** ~10 минут на проект.
