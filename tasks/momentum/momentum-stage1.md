# momentum

**Momentum** - аналог [одноимённого приложения](https://chrome.google.com/webstore/detail/momentum/laookkfknpbbblfpciffpaejjkokdgca?hl=ru) интернет-магазина Chrome. Приложение показывает время и имя пользователя. Фоновое изображение и приветствие меняются в зависимости от времени суток.  
В приложении есть часы, слайдер изображений, виджеты погоды, аудиоплеер, блок цитата дня. настройки. Для хранения имени пользователя и населённого пункта используется локальное хранилище - local storage.

#### Ключевые навыки:
- методы поиска элементов;
- вывод данных на страницу;
- работа с датой и временем;
- работа с аудио;
- сохранение данных в local storage;
- использование рекурсивного setTimeout;
- деление js-кода на модули;
- генерирование html через js;
- работа с асинхронными запросами. 

![screenshot](../images/momentum.png)

- [Demo](https://momentum-2021q3.netlify.app/)
- [Файлы  с вёрсткой](https://github.com/rolling-scopes-school/stage1-tasks/tree/momentum)

#### Советы по выполнению задания
- [0. Организация работы](momentum-hints.md)
- [1. Часы и календарь](momentum-time.md)
- [2. Приветствие](momentum-greeting.md)
- [3. Слайдер изображений](momentum-slider.md) 
- [4. Виджет погоды](momentum-weather.md)
- [5. Аудиоплеер](momentum-audio.md)

## Функциональные требования
1. Часы и календарь
   - время выводится в 24-часовом формате, например: `21:01:00`
   - время обновляется каждую секунду (часы идут)
   - выводится день недели, дата, месяц, например: "Воскресенье, 16 мая" / "Sunday, May 16" / "Нядзеля, 16 траўня" 
   - при изменении дня недели, даты, месяца эти данные меняются в приложении (в ходе кросс-чека этот пункт не проверяется)
2. Приветствие
   - текст приветствия меняется в зависимости от времени суток (утро, день, вечер, ночь)
      - с 6:00 до 11:59 - Good morning / Доброе утро / Добрай раніцы
      - с 12:00 до 17:59 - Good day / Добрый день / Добры дзень
      - с 18:00 до 23:59 - Good evening / Добрый вечер / Добры вечар
      - с 00:00 до 5:59 - Good night / Доброй/Спокойной ночи / Дабранач
   - при изменении времени суток, если в это время приложение открыто, меняется текст приветствия (в ходе кросс-чека этот пункт не проверяется)
   - пользователь может ввести своё имя 
   - при перезагрузке страницы приложения имя пользователя сохраняется, данные о  нём хранятся в local storage
3. Смена фонового изображения
   - при загрузке или перезагрузке приложения фоновое изображение выбирается из расположенной на GitHub [коллекции изображений](https://github.com/rolling-scopes-school/stage1-tasks/tree/assets/images).  
   - ссылка на фоновое изображение формируется с учётом времени суток и случайного номера изображения (от `01` до `20`), например: `https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/evening/18.jpg`, где
      - `evening` - время суток, другие значения `day`, `morning`, `night`
      - `18` - рандомный (случайный) номер изображения, от `01` до `20`.
   - изображения можно перелистывать кликами по стрелкам, расположенным по бокам экрана. 
   - изображения перелистываются последовательно - после 18 изображения идёт 19 (клик по правой стрелке), перед 18 изображением идёт 17 (клик по левой стрелке)
   - изображения перелистываются по кругу: после двадцатого изображения идёт первое (клик по правой стрелке), перед 1 изображением идёт 20 (клик по левой стрелке)
   - при смене слайдов важно обеспечить плавную смену фоновых изображений. Плавную смену фоновых изображений не проверяем: 1) при загрузке и перезагрузке страницы 2) при открытой консоли браузера 3) при слишком частых кликах по стрелкам для смены изображения
4. Виджет погоды
   - город по умолчанию - Минск, пока пользователь не ввёл другой город
   - при перезагрузке страницы приложения указанный пользователем город сохраняется, данные о  нём хранятся в local storage
   - для указанного пользователем населённого пункта выводятся данные о погоде, если их возвращает API
   - данные о погоде включают в себя: иконку погоды, описание погоды, температуру в `°C`, скорость ветра в `м/с`, относительную влажность воздуха в `%`
   - числовые параметры погоды округляются до целых чисел
   - выводится уведомление об ошибке при вводе некорректных значений, для которых API не возвращает погоду (пустая строка или бессмысленный набор символов)
5. Виджет цитата дня
   - при загрузке страницы приложения отображается рандомная цитата и её автор
   - в качестве источника цитаты можно использовать как API, так и созданный вами или найденный в интернете JSON-файл с цитатами и их авторами. API с цитатами не отличаются надёжностью и долговечностью, используемый в качестве источника цитат собственный JSON-файл гарантирует работоспособность вашего приложения. Запросы к JSON также осуществляются асинхронно, таким образом необходимые знания о работе с асинхронными запросами вы получите
   - при перезагрузке страницы цитата обновляется (заменяется на другую)
   - язык цитаты русский, английский или белорусский определяется языком приложения
   - есть кнопка, при клике по которой цитата обновляется (заменяется на другую)
6. Аудиоплеер
   - при клике по кнопке `Play/Pause` проигрывается первый трек из блока `play-list`, иконка кнопки меняется на `Pause`
   - при клике по кнопке `Play/Pause` во время проигрывания трека, останавливается проигрывание трека, иконка кнопки меняется на `Play`
   - треки можно пролистывать кнопками `Play-next` и `Play-prev`
   - треки пролистываются по кругу - после последнего идёт первый (клик по кнопке `Play-next`), перед первым - последний (клик по кнопке `Play-prev`)
   - трек, который в данный момент проигрывается, в блоке `Play-list` выделяется стилем
   - после окончания проигрывания первого трека, автоматически запускается проигрывание следующего. Треки проигрываются по кругу: после последнего снова проигрывается первый. Для удобства проверки треки возьмите небольшой продолжительности. Обрезать треки можно здесь: `https://mp3cut.net/ru/`
   - плейлист генерируется средствами JavaScript (в ходе кросс-чека этот пункт не проверяется)
7. Продвинутый аудиоплеер (реализуется без использования библиотек)
   - примерные внешний вид и функциональность плеера https://howlerplayer.github.io/
   - добавлен прогресс-бар в котором отображается прогресс проигрывания
   - при перемещении ползунка прогресс-бара меняется текущее время воспроизведения трека
   - над прогресс-баром отображается название трека
   - отображается текущее и общее время воспроизведения трека
   - есть кнопка звука при клике по которой можно включить/отключить звук
   - добавлен регулятор громкости, при перемещении ползунка регулятора громкости меняется громкость проигрывания звука
   - можно запустить и остановить проигрывания трека кликом по кнопке `Play/Pause` рядом с ним в плейлисте
8. Перевод приложения на два языка (en/ru или en/be)
   - переводится приветствие
   - переводится прогноз погоды в т.ч описание погоды (OpenWeatherMap API предоставляет такую возможность)
   - переводится цитата дня (используйте подходящий для этой цели API, возвращающий цитаты на нужном языке или создайте с этой целью JSON-файл с цитатами на двух языках)
   - переводятся названия треков в аудиоплеере, если у них есть соответствующий перевод, иначе названия треков оставляем на языке оригинала
   - выбрать язык приложения можно в настройках приложения
9. Получение фонового изображения от API
   - в качестве источника изображений используется Unsplash API 
   - в качестве источника изображений используется Flickr API
   - есть возможность указать тег, для которого API будет присылает фото, например `nature` - фото про природу
9. Настройки приложения  
   - в настройках приложения можно указать язык приложения (en/ru или en/be)
   - в настройках приложения можно указать источник получения фото для фонового изображения: коллекция изображений GitHub, Unsplash API, Flickr API 
   - в настройках приложения можно указать тег, для которого API будет присылает фото
   - в настройках приложения можно скрыть/отобразить любой из блоков, которые находятся на странице: время, дата, приветствие, цитата дня, прогноз погоды, аудиоплеер, дополнительный функционал на выбор
   - скрытие отображение блоков происходит плавно, не влияя на другие элементы, которые находятся на странице или плавно смещая их 
9. Дополнительный функционал на выбор
   - в качестве дополнительного функционала на выбор вы можете реализовать любой из перечисленных вариантов или придумать свой, аналогичный им по сложности
      - ToDo List - Список дел (как в оригинальном приложении) 
      - список ссылок (как в оригинальном приложении)
      - приложение для заметок [Демо](https://50projects50days.com/projects/notes-app/)
9. На основе созданного проекта вы можете попытаться создать [расширение для Google Chrome](https://vc.ru/dev/159897-kak-sdelat-rasshirenie-dlya-google-chrome-i-nemnogo-uluchshit-ux-na-glavnoy-stranice-pochty) (без публикации в интернет-магазине, в ходе кросс-чека этот пункт не проверяется)

#### Требования к репозиторию
- задание выполняется в **приватном репозитории школы** [Как работать с приватным репозиторием](https://docs.rs.school/#/private-repository?id=Как-работать-с-приватным-репозиторием)
- если у вас не работает приватный репозиторий школы, задание можно выполнять в личном приватном репозитории.
- в приватном репозитории школы от ветки `main` создайте ветку с названием задания, в ней создайте папку с названием задания, в папке разместите файлы проекта
- для деплоя используйте https://app.netlify.com/drop. Название страницы дайте по схеме: имя гитхаб аккаунта - название таска
- история коммитов должна отображать процесс разработки приложения. [Требования к коммитам](https://docs.rs.school/#/git-convention?id=Требования-к-именам-коммитов)
- после окончания разработки необходимо сделать Pull Request из ветки приложения в ветку `main` [Требования к Pull Request](https://docs.rs.school/#/pull-request-review-process?id=Требования-к-pull-request-pr). **Мержить Pull Request из ветки разработки в ветку `main` не нужно**

#### Технические требования
- работа приложения проверяется в браузере Google Chrome последней версии
- можно использовать [bootstrap](https://getbootstrap.com/), [material design](https://material.io/), css-фреймворки, html и css препроцессоры
- не разрешается использовать jQuery, другие js-библиотеки и фреймворки
- рекомендуется js-код приложения разбить на модули
- рекомендуется для сборки приложения использовать [Webpack](https://www.npmjs.com/package/create-rss-app) 

#### Как сабмитить задание
Засабмитить задание необходимо как можно раньше, как только в rs app появится такая возможность. Для этого зайдите в rs app https://app.rs.school/, выберите пункт Cross-Check: Submit, в выпадающем списке выберите название таска, в поле Solution URL добавьте ссылку на задеплоенную версию вашего приложения, нажмите кнопку Submit.   
После сабмита задания его можно продолжать выполнять до самого дедлайна.

#### Критерии оценки

**Максимальный балл за задание +150**

Для удобства проверки выведите в консоль браузера самооценку своего проекта по пунктам с указанием баллов за каждый выполненный вами пункт.

1. Часы и календарь +15
   - время выводится в 24-часовом формате, например: `21:01:00` +5
   - время обновляется каждую секунду (часы идут) +5
   - выводится день недели, дата, месяц, например: "Воскресенье, 16 мая" / "Sunday, May 16" / "Нядзеля, 16 траўня" +5 
2. Приветствие +10
   - текст приветствия меняется в зависимости от времени суток  +5
   - пользователь может ввести своё имя. При перезагрузке страницы приложения имя пользователя сохраняется, данные о  нём хранятся в local storage +5
3. Смена фонового изображения +20
   - при загрузке или перезагрузке приложения фоновое изображение выбирается из расположенной на GitHub коллекции изображений. Ссылка на фоновое изображение формируется с учётом времени суток и случайного номера изображения  +5
   - изображения можно перелистывать кликами по стрелкам, расположенным по бокам экрана. Изображения перелистываются последовательно - после 18 изображения идёт 19 (клик по правой стрелке), перед 18 изображением идёт 17 (клик по левой стрелке)  +5
   - изображения перелистываются по кругу: после двадцатого изображения идёт первое (клик по правой стрелке), перед 1 изображением идёт 20 (клик по левой стрелке)  +5
   - при смене слайдов важно обеспечить плавную смену фоновых изображений. Плавную смену фоновых изображений не проверяем: 1) при загрузке и перезагрузке страницы 2) при открытой консоли браузера +5
4. Виджет погоды +15
   - город по умолчанию - Минск, пока пользователь не ввёл другой город. При перезагрузке страницы приложения указанный пользователем город сохраняется, данные о  нём хранятся в local storage +5
   - для указанного пользователем населённого пункта выводятся данные о погоде, если их возвращает API. Данные о погоде включают в себя: иконку погоды, описание погоды, температуру в `°C`, скорость ветра в `м/с`, относительную влажность воздуха в `%`. Числовые параметры погоды округляются до целых чисел  +5
   - выводится уведомление об ошибке при вводе некорректных значений, для которых API не возвращает погоду (пустая строка или бессмысленный набор символов)  +5
5. Виджет цитата дня +10
   - при загрузке страницы приложения отображается рандомная цитата и её автор +5
   - при перезагрузке страницы цитата обновляется (заменяется на другую). Есть кнопка, при клике по которой цитата обновляется (заменяется на другую)  +5
6. Аудиоплеер +15
   - при клике по кнопке `Play/Pause` проигрывается первый трек из блока `play-list`, иконка кнопки меняется на `Pause`. При клике по кнопке `Play/Pause` во время проигрывания трека, останавливается проигрывание трека, иконка кнопки меняется на `Play`  +5
   - треки можно пролистывать кнопками `Play-next` и `Play-prev`. Треки пролистываются по кругу - после последнего идёт первый (клик по кнопке `Play-next`), перед первым - последний (клик по кнопке `Play-prev`). Трек, который в данный момент проигрывается в блоке `Play-list`, выделяется стилем  +5
   - после окончания проигрывания первого трека, автоматически запускается проигрывание следующего. Треки проигрываются по кругу: после последнего снова проигрывается первый +5
7. Продвинутый аудиоплеер (реализуется без использования библиотек) +25
   - добавлен прогресс-бар в котором отображается прогресс проигрывания. При перемещении ползунка прогресс-бара меняется текущее время воспроизведения трека  +5
   - над прогресс-баром отображается название трека. Отображается текущее и общее время воспроизведения трека  +5
   - есть кнопка звука при клике по которой можно включить/отключить звук +5
   - добавлен регулятор громкости, при перемещении ползунка регулятора громкости меняется громкость проигрывания звука +5
   - можно запустить и остановить проигрывания трека кликом по кнопке `Play/Pause` рядом с ним в плейлисте +5
8. Перевод приложения на два языка (en/ru или en/be) +15
   - переводится приветствие +5
   - переводится прогноз погоды в т.ч описание погоды (OpenWeatherMap API предоставляет такую возможность) +5
   - переводится цитата дня  +5
9. Получение фонового изображения от API +10
   - в качестве источника изображений используется Unsplash API +5
   - в качестве источника изображений используется Flickr API +5
9. Настройки приложения +15
   - в настройках приложения можно указать язык приложения (en/ru или en/be) +5
   - в настройках приложения можно указать источник получения фото для фонового изображения: коллекция изображений GitHub, Unsplash API, Flickr API +5
   - в настройках приложения можно скрыть/отобразить любой из блоков, которые находятся на странице: время, дата, приветствие, цитата дня, прогноз погоды, аудиоплеер, дополнительный функционал на выбор. Скрытие и отображение блоков происходит плавно, не влияя на другие элементы, которые находятся на странице или плавно смещая их  +5
9. Дополнительный функционал на выбор +10
   - в качестве дополнительного функционала на выбор вы можете реализовать любой из перечисленных вариантов или придумать свой, аналогичный им по сложности
      - ToDo List - Список дел (как в оригинальном приложении) 
      - список ссылок (как в оригинальном приложении)
   - для удобства проверки описание выполненного вами дополнительного функционала выведите в консоль браузера 

Разница между максимальной оценкой за приложение (150 баллов) и максимально возможным количеством баллов за выполнение всех пунктов требований (160 баллов) позволит сгладить возможные ошибки проверяющих в ходе кросс-чека, неточности в описании задания, разное понимание требований задания проверяющим и проверяемым.

## Проверка задания
- задание будет проверяться посредством кросс-чека.
- инструкция по проведению cross-check: https://docs.rs.school/#/cross-check-flow
- ссылки на лучшие работы добавьте, пожалуйста, в эту форму https://forms.gle/Xc9RVjEWTTGF6ubK8
<!-- - Документ для вопросов: https://docs.google.com/spreadsheets/d/1dMDLBC4-1XPaVMehZB6DqetToXZhq4x0PiZtj-jvLRc/edit#gid=1153986630 -->

## API с цитатами
- https://favqs.com/api/qotd
- https://type.fit/api/quotes
- https://api.chucknorris.io/jokes/random
- https://www.breakingbadapi.com/api/quotes

## Images API с примерами подключения
#### Unsplash API
- сайт: https://unsplash.com/developers
- регистрируемся на сайте
- подтверждаем email (переходим по ссылке, которая пришла на почту)
- создаём приложение `https://unsplash.com/oauth/applications`
- получаем Access Key
- получаем фото для фона, которое меняется при каждом обновлении страницы  
`https://api.unsplash.com/photos/random?orientation=landscape&per_page=1&query=nature&client_id=e2077ad31a806c894c460aec8f81bc2af4d09c4f8104ae3177bb809faf0eac17`
- у данного сервиса есть лимит - 50 изображений в час
- документация: https://unsplash.com/documentation
#### Flickr API
- сайт: https://www.flickr.com/services/
- регистрируемся на сайте
- подтверждаем email (переходим по ссылке, которая пришла на почту)
- создаём приложение `https://www.flickr.com/services/apps/create/apply/`
- получаем API Key
- получаем список фото `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=0f15ff623f1198a1f7f52550f8c36057&tags=nature,spring,morning&tag_mode=all&extras=url_h&format=json&nojsoncallback=1`
- документация https://www.flickr.com/services/api/flickr.photos.search.html

## Материалы
- [методы поиска элементов](https://learn.javascript.ru/searching-elements-dom)
- [textContent: просто текст](https://learn.javascript.ru/basic-dom-node-properties#textcontent-prosto-tekst)
- [дата и время](https://learn.javascript.ru/date)
- [Date.prototype.toLocaleTimeString()](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleTimeString)
- [Date.prototype.toLocaleDateString()](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleDateString)
- [рекурсивный setTimeout](https://learn.javascript.ru/settimeout-setinterval#rekursivnyy-settimeout)
- [шаблонные строки](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Template_literals)
- [тег &lt;input&gt;](https://developer.mozilla.org/ru/docs/Web/HTML/Element/Input)
- [Страница: DOMContentLoaded, load, beforeunload, unload](https://learn.javascript.ru/onload-ondomcontentloaded)
- [localStorage](https://developer.mozilla.org/ru/docs/Web/API/Window/localStorage)
- [введение в браузерные события](https://learn.javascript.ru/introduction-browser-events)
- [тег &lt;audio&gt;](https://developer.mozilla.org/ru/docs/Web/HTML/Element/audio)
- [стили и классы](https://learn.javascript.ru/styles-and-classes)
- [изменение документа](https://learn.javascript.ru/modifying-document)
- [Поймут даже дети: простое объяснение async/await и промисов в JavaScript](https://habr.com/ru/post/474726/)
- [JavaScript. Как работает Async, Await](https://youtu.be/SHiUyM_fFME)
- [Вебинар: Асинхронность в JavaScript](https://youtu.be/Ih6Q7ka2eSQ)