# Pointing Poker

| Deadline         |
| ---------------- |
| 29.09.2021 23:59 |

**Pointing Poker** – приложение для проведения сессий по оценке сложности предстоящей работы или относительного объёма решаемых задач при разработке программного обеспечения.

## Теоретическая справка

https://ru.scrum-time.com/infobase/planning-poker.php
https://ru.wikipedia.org/wiki/%D0%9F%D0%BE%D0%BA%D0%B5%D1%80_%D0%BF%D0%BB%D0%B0%D0%BD%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F

## Формирование команд

- задание выполняется в команде, количество участников команды - три человека
- команды могут формироваться по желанию студентов или рандомно (https://rss-teams.web.app/login)
- организация командной работы описана в [Документации курса](https://github.com/rolling-scopes-school/tasks/tree/master/stage3/modules/final-task#%D0%BE%D1%80%D0%B3%D0%B0%D0%BD%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D0%BD%D0%BE%D0%B9-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B)

## Прототипы приложения

Перед началом работы над проектом ознакомьтесь с прототипами приложения, которое вам предстоит создать:

- [Figma](https://www.figma.com/file/mEe4koIAtqMreKs68uvoVs/Poker-Planing?node-id=0%3A1)
- [Planningpoker](https://www.planningpoker.com/) - Бесплатный доступ к ресурсу предоставляется на 14 дней.

## Структура приложения

- приветственная страница
- страница с игрой
- страница с настройками
- лобби

## Требования к репозиторию

- для разработки приложения тимлид команды в своём аккаунте github создаёт приватный репозиторий, коллабораторами в который приглашает всех участников своей команды
- особенности командной работы с репозиторием описаны в [Документации курса](https://github.com/rolling-scopes-school/tasks/tree/master/stage3/modules/final-task#%D0%BE%D1%80%D0%B3%D0%B0%D0%BD%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D0%BD%D0%BE%D0%B9-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B)
- название репозитория: **pointing-poker**, название ветки, в которой ведётся разработка - **develop**, ветка **main** пустая, содержит только README.md
- история коммитов должна отображать процесс разработки приложения. [Требования к коммитам](https://docs.rs.school/#/git-convention)
- демо-версия приложения размещается на `gh-pages`, `netlify`, `heroku` либо на другом подобном хостинге.
- после окончания разработки или при наступлении дедлайна, создайте pull request из ветки разработки в ветку `main`. [Требования к pull request](https://docs.rs.school/#/pull-request-review-process?id=Требования-к-pull-request-pr). **Мержить Pull Request не нужно**
- добавьте в описание pull request ссылку на папку с бекендом
- репозиторий, в котором велась работа над проектом, после наступления дедлайна нужно сделать публичным.

## Технические требования

- работа приложения проверяется в браузере Google Chrome последней версии
- необходимо использовать React
- разрешается использовать jQuery только в качесте подключаемой зависимости для UI библиотек. Использование jQuery в основном коде приложения не допускается.
- можно использовать create-react-app, css фреймворки, любые js библиотеки, любые библиотеки компонент, html и css препроцессоры
- рекомендуется использовать TypeScript
- необходимо создать и использовать бекенд для корректной работы приложения и осуществления взаимодействия между несколькими пользователями
- приложение должно поддерживать проведение нескольких игр одновременно (т.е. команда А проводит свою игру, а команда Б проводит свою)
- запрещено копировать код других студентов, демо, примеров, которые приводятся в задании. Этот запрет касается html, css, js кода. Можно использовать небольшие фрагменты кода со Stack Overflow, других самостоятельно найденных источников в интернете, за исключением github-репозиториев студентов курса. Возле использованного чужого фрагмента кода в комментарии указывается ссылка на источник.

## Требования к оформлению приложения

- Не обязательно придерживаться дизайна из описания задания. Вы можете реализовать как улучшенный, так и полностью свой вариант.
- качественное приложение характеризуется проработанностью деталей, вниманием к типографике (не больше трёх шрифтов на странице, размер шрифта не меньше 14 рх, оптимальная [контрастность шрифта и фона](https://snook.ca/technical/colour_contrast/colour.html)), тщательно подобранным контентом
- вёрстка адаптивная. Минимальная ширина страницы, при которой проверяется корректность отображения приложения - 500рх
- интерактивность элементов, с которыми пользователи могут взаимодействовать, изменение внешнего вида самого элемента и состояния курсора при наведении, использование разных стилей для активного и неактивного состояния элемента, плавные анимации
- единство стилей всех страниц приложения - одинаковые шрифты, стили кнопок, отступы, одинаковые элементы на всех страницах приложения имеют одинаковый внешний вид и расположение. Цвет элементов и фоновые изображения могут отличаться. В этом случае цвета используются из одной палитры, а фоновые изображения из одной коллекции.

## Описание функциональных блоков

Перед описанием функционала приложения нужно определить некоторые понятия:

- Игрок - пользователь, который активно принимает участие в игре путем голосования. У него нет возможности управлять ходом игры
- Наблюдатель - пользователь, который не принимает участия в самой игре, у него нет возможности голосовать или управлять ходом игры, но он может присоединиться к игре и следить за ее ходом
- Дилер - пользователь, который настраивает игру, управляет ее ходом. В зависимости от настроек может так же голосовать

### Приветственная страница

- выполняет функцию страницы входа
- главная страница приложения содержит:
  - кнопку "Начать новую игру". По нажатию на эту кнопку открывается попап с формой, где пользователь вводит свои имя (Обязательно), фамилию(Опционально) и позицию (Опционально), а так же может загрузить картинку для профиля. После сабмита данной формы пользователь попадает на страницу с настройками игры
  - поле для ввода (куда вводится url(или id) сессии) и кнопка "Присоединиться к игре". Если у пользователя есть url(или id) уже созданной и активной игры, то он может к ней присоединиться, указав url(или id) в поле для ввода и нажав на кнопку. После нажатия на кнопку, url(или id) должно пройти валидацию (игра с таким url(или id) существует и активна). Если валидация не прошла успешно, то пользователь остается на приветственной странице и ему показывается сообщение об ошибке, иначе открывается попап с формой, где пользователь вводит свои имя (Обязательно), фамилию(Опционально), позицию (Опционально) и роль(наблюдатель/игрок), а так же может загрузить картинку для профиля. После сабмита данной формы пользователь перенаправляется на страницу с игрой (если реализовано лобби, то перенаправляется на страницу лобби)
  - footer со ссылками на гитхабы авторов приложения, год создания приложения, [логотип курса](https://rs.school/images/rs_school_js.svg) со [ссылкой на курс](https://rs.school/react/). footer отображается на всех страницах приложения.

### Лобби

- По сути, это страница, на которой игрок или наблюдатель ждут, пока их впустят в игру. Из элементов на странице:
  - сообщение, которое сообщает, где пользователь сейчас находиться и чего ждет
  - лист ожидания, в котором отображаются карточки всех участников перешедших по ссылке, имя сессии с кнопкой выхода.
  - текстовый чат для всех присутствующих
  - есть возможность исключить из лобби человека создав голосование и получив большинство голосов ( 50% от участников + 1 голос). При этом дилер может удалить любого, дилера удалить нельзя. Функция голосования недоступна, если в лобби менее 3 человек, не считая дилера

### Настройки(настройки игры + лобби для дилера)

- страница с настройками состоит из трех главных блоков:
  - запуск игры. В данной секции дилер должен иметь возможность:
    - скопировать ссылку на игру. Ссылка должна вести на приветственную страницу с предзаполненным url(или id) игры
    - начать игру. По нажатию на эту кнопку лобби закрывается и все пользователи перенаправляются на страницу с игрой. Если лобби не реализовано, то игроки могут попасть на страницу с игрой только после того, как дилер ее запустит.
    - отменить игру. При отмене игры статус игры переходит в состояние "не активная", дилер видит сообщение, что игра отменена успешно/неуспешно, а все пользователи удаляются из лобби(если реализовано).
  - настройки игры. В настройках игры у дилера есть возможность указать и сохранить нижеследующие настройки (кроме списка задач):
    - будет ли дилер принимать участие в игре
    - какой набор карточек будет использоваться (числа Фибоначчи, степени двойки, возможность задать собственную последовательность)
    - впускать автоматически всех новых участников, если игра уже началась или впускать через механизм admit/reject
    - будут ли карты переворачиваться автоматически как только все проголосуют
    - можно ли менять свой выбор после того как все карты уже перевернуты
    - нужен ли таймер(если нужен, то должно появиться дополнительное поле для конфигурации времени таймера)
    - задать список задач, которые будут оцениваться с помощью ввода в форме и/или с помощью файла со списком задач
  - лобби(если реализовано). В секции управления лобби можно:
    - просматривать список участников, которые уже находятся в лобби
    - удалять участников из лобби
    - просматривать чат и участвовать в обсуждении(если реализован чат)

### Страница с игрой

- эта страница открывается после того, как дилер начал игру
- поле с игрой содержит следующие элементы:
  - список участников в виде круглых иконок с инициалами внутри (как иконки пользователя в google, jira и т.д.) и полным именем под иконками. Участники с разной ролью должны визуально выделяться (например, цветом иконки или разделяться по спискам). Если новый участник присоединился во время игры, то должен быть реализован механизм admit/reject(например как в google meet): дилеру показывается попап, где спрашивается впустить или нет участника.
  - список задач:
    - задача, которая сейчас оценивается должна визуально выделяться
    - каждый элемент списка отображает описание задачи и score, который ей присудили
    - если задача еще не оценивалась, то вместо score отображается прочерк
    - должна быть возможность задать score в элементе списка
    - перемещение между задачами из списка выполняется по клику на элемент списка (или любой другой механизм). Перемещаться между задачами может только дилер. Игрок или наблюдатель может только просмотреть детали задачи.
  - таймер (если не выключен настройками). Таймер запускается автоматически каждый раз заново, когда задача становится активной (т.е. мы перешли к ней для оценивания)
  - среднее значение всех оценок игроков. После того, как все проголосовали и карточки перевернули, нужно отобразить среднее значение всех оценок
  - карточки для голосования (видны только для игроков), на которых отображаются значения последовательности, которую выбрали в настройках. Карточка, которую выбрал игрок, выделяется для него визуально
  - после того, как карточки перевернули, все участники видят, как проголосовали игроки
  - механизм для добавления задач в список в процессе игры
  - если по настройкам карточки не переворачиваются автоматически, когда проголосовали все, то добавить возможность перевернуть их (например кнопка или переворачивать автоматически по истечении времени на таймере)
  - механизм для повторного голосования по задаче (т.е. уже проголосовали, но результат получился неудовлетворительный или большой разброс по оценкам среди игроков и после обсуждений, дилер решает запустить повторное голосование)
  - механизм для завершения игры. По завершении игры выводится результат оценки и есть возможность сохранить его в виде файла (.csv, .xlsx)
- элементы управления игрой доступны только дилеру

## Как сабмитить задание

- Участникам команд необходимо записаться в таблицу, ссылка на которую будет размещена в анонсах
- Ссылку на pull request в rs app сабмитит **только тимлид**
- Убедитесь, что pull request доступен для проверки. Для этого откройте ссылку, которую сабмитите в rs app, в режиме инкогнито браузера
- Если задание не засабмитить до дедлайна, оно не попадёт на распределение при кросс-чеке и за него не будут выставлены баллы

## Критерии оценивания

**Максимальный балл за задание 550**  
Из них:

- 450 баллов за приложение
- 100 баллов за презентацию

Для удобства проверки необходимо записать и разместить на YouTube небольшое (5-7 мин) видео для проверяющих с объяснением, как реализован каждый из перечисленных в критериях оценки пункт. Особое внимание обратите на те пункты критериев оценки, которые проверяющий проверить не сможет, например, на то, как вы реализовали базу данных, как задеплоили бекенд и т.д. Ссылку на видео можно добавить в описание pull request или в footer приложения добавить [иконку YouTube](https://upload.wikimedia.org/wikipedia/commons/0/09/YouTube_full-color_icon_%282017%29.svg) со ссылкой на видео.

При оценивании приложения проверяются все требования, описанные в [описании функциональных блоков](#описание-функциональных-блоков). Если какие-то из перечисленных требований не выполняются, снимаем часть баллов. В комментарии к оценке необходимо указать, какие пункты не выполнены или выполнены частично.

### Вёрстка, дизайн, UI +25

- [ ] вёрстка, дизайн, UI страницы приветствия +5
- [ ] вёрстка, дизайн, UI страницы с настройками +5
- [ ] вёрстка, дизайн, UI страницы с игрой +5
- [ ] оригинальный интересный качественный дизайн приложения +10

### Страница приветствия +20

- [ ] попап с информацией о пользователе +10
- [ ] присоединиться/начать игру +5
- [ ] валидация id игры, имени пользователя +5

### Лобби +110

- [ ] страница лобби и вся логика, связанная с лобби(в том часле на странице с настройками) +50
- [ ] исключить участника голосованием +10
- [ ] чат +50

### Настройки +35

- [ ] валидация настроек +5
- [ ] сохранение базовых настроек +10
- [ ] создание списка задач вручную (каждую задачу добавляем отдельно по очереди) +10
- [ ] генерация списка задач на основе файла +10

### Страница с игрой +160

- [ ] список участников +10
- [ ] список задач +25
- [ ] таймер +5
- [ ] среднее значение +5
- [ ] механизм голосования +50
- [ ] карточки переворачиваются автоматически, когда проголосовали все +5
- [ ] повторное голосование +5
- [ ] добавление задач во время игры +10
- [ ] выводится результат в конце игры +5
- [ ] результат игры можно скачать +40

### Бекенд +70

- [ ] поддерживает игровую сессию с несколькими пользователями +30
- [ ] поддерживает несколько игровых сессий одновременно +30
- [ ] сервер отдаёт корректные ответы, отдаёт HTTP ошибки с нормальными body, по которым можно понять, что произошло, пишет читаемые логи +10

### Дополнительный функционал +30\*\*

- [ ] реализован не указанный в задании дополнительный функционал. Оценивается оригинальная идея, вклад в улучшение качества приложения, полезность, сложность и качество выполнения +20
- [ ] написано не меньше 10 юнит-тестов, использующих различные [методы jest](https://jestjs.io/docs/ru/expect) +10

## Cross-check

- инструкция по проведению cross-check: https://docs.rs.school/#/cross-check-flow
- форма для проверки задания будет размещена в анонсах
- cсылки на лучшие работы добавьте, пожалуйста, в эту [форму](https://forms.gle/nHL6SJxqVHVkNBH27)

## Презентация проекта

https://github.com/rolling-scopes-school/tasks/blob/master/tasks/rslang/rslang.md#презентация

## Полезные ресурсы

Как реализовать BE https://medium.com/swlh/chat-rooms-with-socket-io-25e9d1a05947
Soket.io https://socket.io/docs/v3/rooms/index.html

## Документ для вопросов

- документ для вопросов, связанных с выполнением задания: https://docs.google.com/spreadsheets/d/1E7ZloNty9aKMuOZVFTgy1weLSJALZv1Y6AMBQXnxREo/edit?usp=sharing
