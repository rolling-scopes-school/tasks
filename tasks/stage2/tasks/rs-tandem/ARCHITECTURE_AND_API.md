# üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏ API

> **–¶–µ–ª—å —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞:** –ù–∞—É—á–∏—Ç—å –≤–∞—Å —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ë—ç–∫–µ–Ω–¥–∞, –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –∏ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ.

---

## üõë –ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–∏—Ç—É–∞—Ü–∏—é:

1. **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ê** –≤–µ—Ä—Å—Ç–∞–µ—Ç Dashboard –∏ –µ–º—É –Ω—É–∂–Ω—ã –¥–∞–Ω–Ω—ã–µ (—Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞).
2. **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ë** (–æ—Ç–≤–µ—á–∞—é—â–∏–π –∑–∞ –ë–î) –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–∏–ª –±–∞–∑—É –∏–ª–∏ API.
3. **–ò—Ç–æ–≥:** –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ê —Å–∏–¥–∏—Ç –±–µ–∑ –¥–µ–ª–∞ –∏–ª–∏ "—Ö–∞—Ä–¥–∫–æ–¥–∏—Ç" –¥–∞–Ω–Ω—ã–µ –ø—Ä—è–º–æ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∞ (`const tasks = [...]`), —Å–æ–∑–¥–∞–≤–∞—è –≥—Ä—è–∑–Ω—ã–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Ç–æ–º –ø—Ä–∏–¥–µ—Ç—Å—è –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ª–æ—è API —Å–µ—Ä–≤–∏—Å–æ–≤ (API Service Layer) –∏ —Ä–µ–∂–∏–º–∞ Mock-–¥–∞–Ω–Ω—ã—Ö.

---

## üõ°Ô∏è –ü–∞—Ç—Ç–µ—Ä–Ω "API Service Layer"

–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—ã–∑—ã–≤–∞—Ç—å `fetch` –∏–ª–∏ `supabase.from(...)` –ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä–∏ –≤–∞—à–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –∏–ª–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤, –º—ã –≤—ã–Ω–æ—Å–∏–º –≤—Å—é –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã.

### ‚ùå –ö–∞–∫ –ù–ï –Ω–∞–¥–æ –¥–µ–ª–∞—Ç—å (Direct Access):

*–õ–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å–º–µ—à–∞–Ω–∞ —Å –ª–æ–≥–∏–∫–æ–π –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è. –ï—Å–ª–∏ –±—ç–∫–µ–Ω–¥ –∏–∑–º–µ–Ω–∏—Ç—Å—è, –ø—Ä–∏–¥–µ—Ç—Å—è –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.*

```typescript
// dashboard-page.ts
export class DashboardPage {
  async render() {
    // –ü–õ–û–•–û: –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ fetch –≤–Ω—É—Ç—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∞
    // –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —É–ø–∞–ª –∏–ª–∏ URL —Å–º–µ–Ω–∏–ª—Å—è ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ª–æ–º–∞–Ω–∞
    const response = await fetch('https://api.myapp.com/stats');
    const data = await response.json();
    
    document.body.innerHTML = `<div>XP: ${data.xp}</div>`;
  }
}
```

### ‚úÖ –ö–∞–∫ –ù–ê–î–û –¥–µ–ª–∞—Ç—å (API Layer):

*UI –ø—Ä–æ—Å—Ç–æ "–ø—Ä–æ—Å–∏—Ç" –¥–∞–Ω–Ω—ã–µ —É —Å–µ—Ä–≤–∏—Å–∞. –ï–º—É –≤—Å–µ —Ä–∞–≤–Ω–æ, –æ—Ç–∫—É–¥–∞ –æ–Ω–∏ –±–µ—Ä—É—Ç—Å—è ‚Äî —Å —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞, –∏–∑ Supabase –∏–ª–∏ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ JSON.*

```typescript
// dashboard-page.ts
import { getDashboardStats } from '@/api/dashboard.api';

export class DashboardPage {
  async render() {
    // –•–û–†–û–®–û: –ú—ã –ø—Ä–æ—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ–º —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é.
    // –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ (Mock –∏–ª–∏ Fetch) ‚Äî –Ω–∞—Å –Ω–µ –≤–æ–ª–Ω—É–µ—Ç.
    try {
      const stats = await getDashboardStats();
      this.drawStats(stats);
    } catch (error) {
      this.showError(error);
    }
  }

  private drawStats(stats: UserStats) {
     // –õ–æ–≥–∏–∫–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ DOM
  }
}
```

---

## üõ†Ô∏è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: Mock-—Ä–µ–∂–∏–º

–ì–ª–∞–≤–Ω—ã–π —Ç—Ä—é–∫, –∫–æ—Ç–æ—Ä—ã–π —Å–ø–∞—Å–µ—Ç –≤–∞—à–∏ –Ω–µ—Ä–≤—ã ‚Äî **Mock Mode**.
–≠—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–µ–∂–¥—É "–†–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏" –∏ "–¢–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏" –æ–¥–Ω–æ–π —Å—Ç—Ä–æ—á–∫–æ–π –∫–æ–Ω—Ñ–∏–≥–∞ (–∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è).

### –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

–í —Ñ–∞–π–ª–µ `src/api/dashboard.api.ts`:

```typescript
import { supabase } from '@/lib/supabase'; // –í–∞—à –∫–ª–∏–µ–Ω—Ç (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
import { UserStats } from '@/types';

// –§–ª–∞–≥ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è. –ú–æ–∂–Ω–æ –±—Ä–∞—Ç—å –∏–∑ .env (import.meta.env.VITE_USE_MOCKS)
const USE_MOCK = true; 

// 1. –ó–∞–≥–ª—É—à–∫–∞ (Mock data)
const MOCK_STATS: UserStats = {
  xp: 1250,
  streak: 5,
  completedTasks: 42,
  rank: 'Middle'
};

// 2. –°–∞–º–∞ —Ñ—É–Ω–∫—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞
export const getDashboardStats = async (): Promise<UserStats> => {
  // –°–¶–ï–ù–ê–†–ò–ô –ê: –ë—ç–∫–µ–Ω–¥ –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤? –†–∞–±–æ—Ç–∞–µ–º –Ω–∞ –º–æ–∫–∞—Ö!
  if (USE_MOCK) {
    console.log('‚ö†Ô∏è Using MOCK data for Dashboard');
    return new Promise((resolve) => {
      // –≠–º—É–ª—è—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–µ—Ç–∏ (—á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∞–¥–µ—Ä—ã)
      setTimeout(() => resolve(MOCK_STATS), 500); 
    });
  }

  // –°–¶–ï–ù–ê–†–ò–ô –ë: –ë—ç–∫–µ–Ω–¥ –≥–æ—Ç–æ–≤? –î–µ–ª–∞–µ–º —Ä–µ–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å!
  // –ü—Ä–∏–º–µ—Ä –¥–ª—è Supabase (–Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏ –æ–±—ã—á–Ω—ã–π fetch)
  const { data, error } = await supabase
    .from('user_stats')
    .select('*')
    .single();

  if (error) {
    throw new Error(`Failed to fetch stats: ${error.message}`);
  }
  
  // –ú–∞–ø–ø–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö (Adapter Pattern)
  // –ü—Ä–∏–≤–æ–¥–∏–º "–≥—Ä—è–∑–Ω—ã–µ" –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î –∫ —á–∏—Å—Ç–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  return {
    xp: data.total_xp,         // –í –±–∞–∑–µ field snake_case
    streak: data.days_streak,  // –ê –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ camelCase
    completedTasks: data.tasks_done,
    rank: data.current_rank
  };
};
```

### –í —á–µ–º –ø–ª—é—Å—ã —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞?

1. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞:** –í—ã –º–æ–∂–µ—Ç–µ —Å–≤–µ—Ä—Å—Ç–∞—Ç—å **–≤–µ—Å—å** UI (–≥—Ä–∞—Ñ–∏–∫–∏, —Å–ø–∏—Å–∫–∏, –ø—Ä–æ—Ñ–∏–ª—å), –ø–æ–∫–∞ –≤–∞—à –∫–æ–ª–ª–µ–≥–∞ —Ç–æ–ª—å–∫–æ —É—á–∏—Ç—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î.
2. **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** –ù–∞ –¥–µ–º–æ-–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –ø—Ä–æ–ø–∞–ª? Supabase –ø—Ä–µ–≤—ã—Å–∏–ª –ª–∏–º–∏—Ç—ã? –ü–µ—Ä–µ–∫–ª—é—á–∏–ª–∏ `USE_MOCK = true` ‚Äî –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ.
3. **–ß–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞:** –í –≤–∞—à–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö/—Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö –Ω–µ—Ç `fetch`, `headers`, –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP –∫–æ–¥–æ–≤. –¢–∞–º —Ç–æ–ª—å–∫–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
tandem/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ api/                    # API Service Layer
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.api.ts         # login, register, logout
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.api.ts    # getStats, getHistory
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ widgets.api.ts      # getWidgetById, validate
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ai.api.ts           # startSession, sendMessage
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ types/                  # Shared Contracts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ session.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ components/             # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/               # –ß–µ–ª–æ–≤–µ–∫ 1
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoginForm.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RegisterForm.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/          # –ß–µ–ª–æ–≤–µ–∫ 2
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StatsCard.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ai-agent/           # –ß–µ–ª–æ–≤–µ–∫ 3
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ChatUI.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StreamParser.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ widgets/            # –ß–µ–ª–æ–≤–µ–∫ 2 –∏–ª–∏ 3
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ engine/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ memory-game/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ async-sorter/
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HomePage.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DashboardPage.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PracticePage.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ shared/
‚îÇ       ‚îî‚îÄ‚îÄ ui/                 # –û–±—â–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ           ‚îú‚îÄ‚îÄ Button.ts
‚îÇ           ‚îî‚îÄ‚îÄ Input.ts
‚îÇ
‚îî‚îÄ‚îÄ package.json
```

---

## ‚òÅÔ∏è Backend Strategy: BaaS vs Custom

### –í–∞—Ä–∏–∞–Ω—Ç –ê: BaaS (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**Supabase** –∏–ª–∏ **Firebase** ‚Äî –≥–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è —Å Auth, –ë–î –∏ Storage –∏–∑ –∫–æ—Ä–æ–±–∫–∏.

**–ü–ª—é—Å—ã:**
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏ (–Ω–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å backend)
- ‚úÖ –ì–æ—Ç–æ–≤–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ –ù–µ –Ω—É–∂–µ–Ω —Å–µ—Ä–≤–µ—Ä, Docker, Nginx

**–ö–æ–≥–¥–∞ –≤—ã–±—Ä–∞—Ç—å:**
- –ö–æ–º–∞–Ω–¥–∞ —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ Frontend
- –ù–µ—Ç –æ–ø—ã—Ç–∞ –≤ Backend
- –ú–∞–ª–æ –≤—Ä–µ–º–µ–Ω–∏

### –í–∞—Ä–∏–∞–Ω—Ç –ë: Custom Backend

**Node.js + Express/NestJS** ‚Äî —Å–≤–æ–π backend —Å –Ω—É–ª—è.

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- ‚úÖ –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –æ–ø—ã—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã
- ‚úÖ –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É

**–ö–æ–≥–¥–∞ –≤—ã–±—Ä–∞—Ç—å:**
- –•–æ—Ç–∏—Ç–µ –ø—Ä–æ–∫–∞—á–∞—Ç—å Backend –Ω–∞–≤—ã–∫–∏
- –ï—Å—Ç—å –æ–ø—ã—Ç –≤ Node.js
- –ù—É–∂–Ω–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ (AI Agent streaming)

> **–í–∞–∂–Ω–æ:** –í—ã–±–æ—Ä backend **–Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ—Ü–µ–Ω–∫—É**. –≠—Ç–æ –≤–∞—à –≤—ã–±–æ—Ä.

---

## ü§ù Shared Contracts (–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö)

–ß—Ç–æ–±—ã —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ —Ä–∞–∑–Ω—ã–º–∏ –ª—é–¥—å–º–∏, —Å–æ—Å—Ç—ã–∫–æ–≤–∞–ª–∏—Å—å, –≤–∞–º –Ω—É–∂–Ω–æ **–≤ –ø–µ—Ä–≤—ã–π –∂–µ –¥–µ–Ω—å** –¥–æ–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è –æ —Ç–∏–ø–∞—Ö –¥–∞–Ω–Ω—ã—Ö.

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `src/types/index.ts` –∏ —Å–æ–≥–ª–∞—Å—É–π—Ç–µ –±–∞–∑–æ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã. –≠—Ç–æ –≤–∞—à –∫–æ–Ω—Ç—Ä–∞–∫—Ç.

```typescript
// –û–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
export interface User {
  id: string;
  email: string;
  name: string;
  avatarUrl?: string;
}

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è Dashboard
export interface UserStats {
  xp: number;
  streak: number;
  completedTasks: number;
  rank: 'Junior' | 'Middle' | 'Senior';
}

// –°–µ—Å—Å–∏—è –æ–±—É—á–µ–Ω–∏—è (–∏—Å—Ç–æ—Ä–∏—è)
export interface StudySession {
  id: string;
  userId: string;
  date: string; // ISO string
  topicId: string;
  score: number; // 0-100
}

// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –í–∏–¥–∂–µ—Ç–∞ (JSON —Å—Ö–µ–º–∞)
export interface WidgetConfig {
  id: string;
  type: 'quiz' | 'code-ordering' | 'memory-game' | 'async-sorter';
  title: string;
  description: string;
  data: unknown; // –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –≤–∏–¥–∂–µ—Ç–∞
}
```

---

## üöÄ Workflow: –ö–∞–∫ –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É

### –î–µ–Ω—å 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ ESLint/Prettier
3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `src/types/index.ts`
4. –°–æ–±–µ—Ä–∏—Ç–µ—Å—å –≤ Discord –∏ —Ä–µ—à–∏—Ç–µ: –∫–∞–∫–∏–µ –ø–æ–ª—è –±—É–¥—É—Ç —É `User`, `Task`, `Session`

### –ù–µ–¥–µ–ª—è 1-2: Mock Phase

- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `USE_MOCK = true`
- **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ 1:** –î–µ–ª–∞–µ—Ç Auth UI, –∏—Å–ø–æ–ª—å–∑—É—è `auth.api.ts` (–∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`)
- **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ 2:** –î–µ–ª–∞–µ—Ç –í–∏–¥–∂–µ—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É—è `widgets.api.ts` (–∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥–Ω—ã–π JSON)
- **–ù–∏–∫—Ç–æ –Ω–∏–∫–æ–≥–æ –Ω–µ –∂–¥–µ—Ç!**

### –ù–µ–¥–µ–ª—è 3-4: Integration Phase

- –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –≤ Supabase (–∏–ª–∏ API endpoints)
- –ü–æ –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—É –æ–±–Ω–æ–≤–ª—è–π—Ç–µ `src/api/*.api.ts`, –¥–æ–±–∞–≤–ª—è—è —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- `USE_MOCK = false`

### –ù–µ–¥–µ–ª—è 5-6: Polish & Deploy

- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤
- Deployment
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏

---

## üí° –°–æ–≤–µ—Ç—ã

### 1. –ù–∞—á–Ω–∏—Ç–µ —Å —Ç–∏–ø–æ–≤
```typescript
// –°–Ω–∞—á–∞–ª–∞ –¥–æ–≥–æ–≤–æ—Ä–∏—Ç–µ—Å—å –æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ
interface User { ... }
interface Session { ... }
```

### 2. API —Ñ–∞–π–ª—ã ‚Äî –ø–µ—Ä–≤–æ–µ —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç–µ
```typescript
// src/api/auth.api.ts
export const login = async (email: string, password: string): Promise<User> => {
  if (USE_MOCK) return MOCK_USER;
  // Real implementation later
};
```

### 3. Mock –¥–∞–Ω–Ω—ã–µ ‚Äî —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ
```typescript
// –ù–µ –¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫:
const MOCK_USER = { name: 'test' };

// –î–µ–ª–∞–π—Ç–µ —Ç–∞–∫:
const MOCK_USER: User = {
  id: 'usr_123',
  email: 'john@example.com',
  name: 'John Doe',
  avatarUrl: 'https://i.pravatar.cc/150?u=john'
};
```

### 4. –≠–º—É–ª–∏—Ä—É–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫—É —Å–µ—Ç–∏
```typescript
// –ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∞–¥–µ—Ä—ã –∏ —Å–∫–µ–ª–µ—Ç–æ–Ω—ã
await new Promise(r => setTimeout(r, 500));
```

---

*–°–ª–µ–¥—É—è —ç—Ç–æ–º—É –ø–ª–∞–Ω—É, –≤—ã –∏–∑–±–µ–∂–∏—Ç–µ —Ö–∞–æ—Å–∞ –∏ —Å–º–æ–∂–µ—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.*
